<div class="row w-100 user-page-container mx-0 px-xl-5" *ngIf="authService.isLogged && userHome">
  <div class="col-12 px-0" id="user-info-bg">
    <img
      src="https://thewallpaper.co//wp-content/uploads/2016/10/full-screen-high-definition-desktop-backgrounds-nature-hd-full-hd-download-high-definiton-wallpapers-desktop-images-windows-10-backgrounds-colourful-computer-wallpapers-colours-artwork.jpg"
      alt="user info background">
  </div>
  <div class="col-xl col-12 px-0" id="user-avatar-container">
    <div class="user-page-avatar">
      <img [src]="'http://localhost:8080/images/' + userHome.profileImage" alt="profile" class="cursor-pointer"/>
      <div *ngIf="authService.currentUser .id == userHome.id" class="change-avatar cursor-pointer" (click)="avatar.click()">
        <h4 class="align-middle">Change</h4>
        <input  #avatar type="file" class="d-none" accept="image/*" (change)="uploadImage($event.target.files)"/>
      </div>
    </div>
  </div>
  <div class="user-info col-xl col-12" id="user-info-container">
    <p class="user-info-name">{{userHome.firstName + ' ' + userHome.lastName}}</p>
    <h5>ID: {{userHome.id}}</h5>
    <h5>Birth Date: {{userHome.birthDate}}</h5>
  </div>

  <!-- ASIDE -->
  <aside class="col-xl col-12 py-3" id="aside-info-container">
    <h5 class="text-secondary pb-1"><i class="fas fa-envelope"></i>
      <span class="underline text-orange pl-2">{{userHome.username}}</span>
    </h5>

    <div *ngIf="authService.isLogged && userHome && (authService.currentUser.id !== userHome.id)">
      <button class="btn btn-orange my-1 mr-2" (click)="openPrivateMsgWindow()" [disabled]="privateMsgEnabled">
        Chat <i class="far fa-comment-dots"></i>
      </button>

      <ng-container *ngIf="checkIfFriend(); else notFriends">
        <button class="btn btn-orange" (click)="removeFromFriends()">
          Remove <i class="fas fa-user-times"></i>
        </button>
      </ng-container>

      <ng-template #notFriends>
        <ng-container *ngIf="checkIncomingRequests(); else ifOutgoingRequests">
          <button class="btn btn-orange" (click)="acceptFriendRequest()">
            Accept <i class="fas fa-user-check"></i>
          </button>
        </ng-container>

        <ng-template #ifOutgoingRequests>
          <ng-container *ngIf="checkOutgoingRequests(); else noFriendRequests">
            <button class="btn btn-orange" (click)="cancelFriendRequest()">
              Cancel <i class="fas fa-user-times"></i>
            </button>
          </ng-container>
        </ng-template>

        <ng-template #noFriendRequests>
          <button class="btn btn-orange" (click)="sendFriendRequest()">
            Friend request <i class="fas fa-user-alt"></i>
          </button>
        </ng-template>
      </ng-template>
    </div>
  </aside>

  <!-- POSTS -->
  <div class="col-xl col-12" id="post-container">
    <h1 class="text-white"><u>POSTS ARE HERE MTHFKRS</u></h1>
  </div>
</div>
